(function(l,d){typeof exports=="object"&&typeof module<"u"?module.exports=d():typeof define=="function"&&define.amd?define(d):(l=typeof globalThis<"u"?globalThis:l||self,l.TouchEvent=d())})(this,function(){"use strict";/*!
 * @author liyuelong1020@gmail.com
 * @date 15-5-11 下午4:23
 * @version 1.0.0
 * @description 自定义事件
 */function l(){const d=function(n){return Object.prototype.toString.call(n)==="[object Number]"},c=(n,t={})=>{const{type:i,bubbles:s=!1,cancelable:a=!1,...r}=t,e=document.createEvent("HTMLEvents");return e.initEvent(i,!0,!0),e.data=r||{},e.eventName=i,n.dispatchEvent(e)},p=function(n,t){let i=Math.atan(Math.abs(t/n))/Math.PI*180;return n<=0&&t<=0?i=180-i:n<=0&&t>=0?i+=180:n>=0&&t>=0&&(i=360-i),i},u=function(){return Object.defineProperties({},{length:{get:function(){return Object.keys(this).length},set:function(){return!1},enumerable:!1},keys:{value:function(n){return this[Object.keys(this)[n]]},writable:!1,enumerable:!1},empty:{value:function(){for(let n in this)Object.prototype.hasOwnProperty.call(this,n)&&delete this[n]},writable:!1,enumerable:!1}})};(function(n){const t={target:null,startStamp:0,endStamp:0,startApart:0,endApart:0,startAngle:0,endAngle:0,startX:u(),startY:u(),endX:u(),endY:u(),diffX:u(),diffY:u()},i=function(s){switch(t.target=s.target,s.type){case"touchstart":if(t.startX.empty(),t.startY.empty(),t.diffX.empty(),t.diffY.empty(),Array.from(s.touches).forEach(function(a,r){const e=a.identifier||r;t.startX[e]=t.endX[e]=a.clientX,t.startY[e]=t.endY[e]=a.clientY}),t.startStamp=t.endStamp=Date.now(),s.touches.length>1){const a=t.startX.keys(1)-t.startX.keys(0),r=t.startY.keys(1)-t.startY.keys(0);t.startApart=Math.sqrt(a*a+r*r),t.startAngle=p(a,r)}break;case"touchmove":if(Array.from(s.touches).forEach(function(a,r){const e=a.identifier||r;t.endX[e]=a.clientX,t.endY[e]=a.clientY,d(t.startX[e])&&(t.diffX[e]=t.endX[e]-t.startX[e]),d(t.startY[e])&&(t.diffY[e]=t.endY[e]-t.startY[e])}),s.touches.length>1){const a=t.endX.keys(1)-t.endX.keys(0),r=t.endY.keys(1)-t.endY.keys(0);t.endApart=Math.sqrt(a*a+r*r),t.endAngle=p(a,r)}c(s.target,{type:"swipe",points:t});break;case"touchcancel":case"touchend":t.endStamp=Date.now(),t.endX.empty(),t.endY.empty(),Array.from(s.changedTouches).forEach(function(a,r){const e=a.identifier||r,f=t.diffX[e],o=t.diffY[e];Math.abs(f)>0||Math.abs(o)>0?(Math.abs(f)<Math.abs(o)&&o<0?c(s.target,{type:"swipeUp",points:t}):Math.abs(f)<Math.abs(o)&&o>0?c(s.target,{type:"swipeDown",points:t}):Math.abs(f)>Math.abs(o)&&f<0?c(s.target,{type:"swipeLeft",points:t}):Math.abs(f)>Math.abs(o)&&f>0&&c(s.target,{type:"swipeRight",points:t}),c(s.target,{type:"swipeEnd",points:t})):(c(s.target,{type:"tap",points:t}),t.endStamp-t.startStamp>500&&c(s.target,{type:"longTap",points:t}))});break}};n.addEventListener("touchstart",i,!0),n.addEventListener("touchmove",i,!0),n.addEventListener("touchend",i,!0),n.addEventListener("touchcancel",i,!0)})(window)}return l});
